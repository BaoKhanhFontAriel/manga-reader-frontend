{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { fetchWrapper } from \"../helper\"; // The users slice manages Redux state, actions and reducers for users in the React app.\n// create slice\n\nconst name = \"users\";\nconst initialState = createInitialState();\nconst extraActions = createExtraActions();\nconst extraReducers = createExtraReducers();\nconst slice = createSlice({\n  name,\n  initialState,\n  extraReducers\n}); // exports\n\nexport const userActions = { ...slice.actions,\n  ...extraActions\n};\nexport const usersReducer = slice.reducer; // implementation\n\nfunction createInitialState() {\n  return {\n    users: {}\n  };\n}\n\nfunction createExtraActions() {\n  const baseUrl = `${process.env.REACT_APP_API_URL}/users`;\n  return {\n    getAll: getAll()\n  };\n\n  function getAll() {\n    return createAsyncThunk(`${name}/getAll`, async () => await fetchWrapper.get(baseUrl));\n  }\n}\n\nfunction createExtraReducers() {\n  return { ...getAll()\n  };\n\n  function getAll() {\n    var {\n      pending,\n      fulfilled,\n      rejected\n    } = extraActions.getAll;\n    return {\n      [pending]: state => {\n        state.users = {\n          loading: true\n        };\n      },\n      [fulfilled]: (state, action) => {\n        state.users = action.payload;\n      },\n      [rejected]: (state, action) => {\n        state.users = {\n          error: action.error\n        };\n      }\n    };\n  }\n}","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchWrapper","name","initialState","createInitialState","extraActions","createExtraActions","extraReducers","createExtraReducers","slice","userActions","actions","usersReducer","reducer","users","baseUrl","process","env","REACT_APP_API_URL","getAll","get","pending","fulfilled","rejected","state","loading","action","payload","error"],"sources":["D:/Documents/manga-reader-app/manga-reader-frontend/src/app/users.slice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { fetchWrapper } from \"../helper\";\r\n\r\n// The users slice manages Redux state, actions and reducers for users in the React app.\r\n\r\n// create slice\r\n\r\nconst name = \"users\";\r\nconst initialState = createInitialState();\r\nconst extraActions = createExtraActions();\r\nconst extraReducers = createExtraReducers();\r\nconst slice = createSlice({ name, initialState, extraReducers });\r\n\r\n// exports\r\n\r\nexport const userActions = { ...slice.actions, ...extraActions };\r\nexport const usersReducer = slice.reducer;\r\n\r\n\r\n// implementation\r\n\r\nfunction createInitialState() {\r\n    return {\r\n        users: {}\r\n    }\r\n}\r\n\r\nfunction createExtraActions() {\r\n    const baseUrl = `${process.env.REACT_APP_API_URL}/users`;\r\n\r\n    return {\r\n        getAll: getAll()\r\n    };    \r\n\r\n    function getAll() {\r\n        return createAsyncThunk(\r\n            `${name}/getAll`,\r\n            async () => await fetchWrapper.get(baseUrl)\r\n        );\r\n    }\r\n}\r\n\r\nfunction createExtraReducers() {\r\n    return {\r\n        ...getAll()\r\n    };\r\n\r\n    function getAll() {\r\n        var { pending, fulfilled, rejected } = extraActions.getAll;\r\n        return {\r\n            [pending]: (state) => {\r\n                state.users = { loading: true };\r\n            },\r\n            [fulfilled]: (state, action) => {\r\n                state.users = action.payload;\r\n            },\r\n            [rejected]: (state, action) => {\r\n                state.users = { error: action.error };\r\n            }\r\n        };\r\n    }\r\n}"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AAEA,SAASC,YAAT,QAA6B,WAA7B,C,CAEA;AAEA;;AAEA,MAAMC,IAAI,GAAG,OAAb;AACA,MAAMC,YAAY,GAAGC,kBAAkB,EAAvC;AACA,MAAMC,YAAY,GAAGC,kBAAkB,EAAvC;AACA,MAAMC,aAAa,GAAGC,mBAAmB,EAAzC;AACA,MAAMC,KAAK,GAAGT,WAAW,CAAC;EAAEE,IAAF;EAAQC,YAAR;EAAsBI;AAAtB,CAAD,CAAzB,C,CAEA;;AAEA,OAAO,MAAMG,WAAW,GAAG,EAAE,GAAGD,KAAK,CAACE,OAAX;EAAoB,GAAGN;AAAvB,CAApB;AACP,OAAO,MAAMO,YAAY,GAAGH,KAAK,CAACI,OAA3B,C,CAGP;;AAEA,SAAST,kBAAT,GAA8B;EAC1B,OAAO;IACHU,KAAK,EAAE;EADJ,CAAP;AAGH;;AAED,SAASR,kBAAT,GAA8B;EAC1B,MAAMS,OAAO,GAAI,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,QAAjD;EAEA,OAAO;IACHC,MAAM,EAAEA,MAAM;EADX,CAAP;;EAIA,SAASA,MAAT,GAAkB;IACd,OAAOpB,gBAAgB,CAClB,GAAEG,IAAK,SADW,EAEnB,YAAY,MAAMD,YAAY,CAACmB,GAAb,CAAiBL,OAAjB,CAFC,CAAvB;EAIH;AACJ;;AAED,SAASP,mBAAT,GAA+B;EAC3B,OAAO,EACH,GAAGW,MAAM;EADN,CAAP;;EAIA,SAASA,MAAT,GAAkB;IACd,IAAI;MAAEE,OAAF;MAAWC,SAAX;MAAsBC;IAAtB,IAAmClB,YAAY,CAACc,MAApD;IACA,OAAO;MACH,CAACE,OAAD,GAAYG,KAAD,IAAW;QAClBA,KAAK,CAACV,KAAN,GAAc;UAAEW,OAAO,EAAE;QAAX,CAAd;MACH,CAHE;MAIH,CAACH,SAAD,GAAa,CAACE,KAAD,EAAQE,MAAR,KAAmB;QAC5BF,KAAK,CAACV,KAAN,GAAcY,MAAM,CAACC,OAArB;MACH,CANE;MAOH,CAACJ,QAAD,GAAY,CAACC,KAAD,EAAQE,MAAR,KAAmB;QAC3BF,KAAK,CAACV,KAAN,GAAc;UAAEc,KAAK,EAAEF,MAAM,CAACE;QAAhB,CAAd;MACH;IATE,CAAP;EAWH;AACJ"},"metadata":{},"sourceType":"module"}